{% extends "base.html" %}
{% block title %}Home Page{% endblock %}
{% block content %}
<div class="container" style="margin-top:20px">
    <div data-cy="page-title" class="css-1knbux5"><div><h1 class="MuiTypography-root MuiTypography-h4 MuiTypography-gutterBottom css-iyyuqi"><strong>Groups</strong></h1></div></div>
</div>
<div class="container" style="margin-top:20px;border-radius:14px;padding: 20px;background-color:rgb(48,48,48)">
    <form action="#" method="POST">
        <div class="row form-group">
            <div class="input-group">
                <select name="user_dropdown" class="form-select" width="500px" style="background-color:rgb(48,48,48);color:white;border-color:#444">
                {%for item in user_list%}
                    {%if selected_user and item._id == selected_user%}
                    <option value="{{item._id}}" selected>{{item.name}}</option>
                    {%else%}
                    <option value="{{item._id}}">{{item.name}}</option>
                    {%endif%}

                {%endfor%}
                </select>
                <input type="submit" value="Show picks" class="form-control" style="background-color:rgb(48,48,48);color:white;color:white;border-color:#444">
            </div>
        </div>
    </form>

    <div class="row">
        {%for item in group_list%}
        <div class="col-3">
            <table class="table">
                <thead>
                    <th>
                        Group: {{item.group_name}}
                    </th>
                    <th>
                        Matches
                    </th>
                    <th>
                        Points
                    </th>
                </thead>
                <tbody>
                <tr>
                    <td>
                        {{item.get_country(item.team_1_id)}}
                    </td>
                    <td>
                        {{item.get_played_by_team(item.team_1_id)}}
                    </td>
                     <td>
                        {{item.get_points_by_team(item.team_1_id)}}
                    </td>
                </tr>
                <tr>
                    <td>
                        {{item.get_country(item.team_2_id)}}
                    </td>
                    <td>
                        {{item.get_played_by_team(item.team_2_id)}}
                    </td>
                    <td>
                        {{item.get_points_by_team(item.team_2_id)}}
                    </td>
                </tr>
                <tr>
                    <td>
                        {{item.get_country(item.team_3_id)}}
                    </td>
                    <td>
                        {{item.get_played_by_team(item.team_3_id)}}
                    </td>
                     <td>
                        {{item.get_points_by_team(item.team_3_id)}}
                    </td>
                </tr>
                <tr>
                    <td>
                        {{item.get_country(item.team_4_id)}}
                    </td>
                    <td>
                        {{item.get_played_by_team(item.team_4_id)}}
                    </td>
                     <td>
                        {{item.get_points_by_team(item.team_4_id)}}
                    </td>
                </tr>
                {%if selected_user%}
                <table class="table table-borderless">
                    <thead>
                    <th>
                        <strong>First pick</strong>
                    </th>
                    <th>
                        <strong>Second pick</strong>
                    </th>
                    </thead>
                    <tbody>
                    <tr>
                        <td>
                            {{item.get_first_seed(selected_user, item._id).name}}
                        </td>
                        <td>
                            {{item.get_second_seed(selected_user, item._id).name}}
                        </td>
                    </tr>

                    </tbody>
                </table>
                {%endif%}
                </tbody>
            </table>
        </div>
        {%endfor%}
    </div>
</div>
<div class="container" style="margin-top:20px">
    <div data-cy="page-title" class="css-1knbux5"><div><h1 class="MuiTypography-root MuiTypography-h4 MuiTypography-gutterBottom css-iyyuqi"><strong>Scoreboard</strong></h1></div></div>
</div>
<div class="container" style="margin-top:20px;border-radius:14px;padding: 20px;background-color:rgb(48,48,48)">
    <div class="row">
        <table class="table">
            <thead>
            <th>
                User
            </th>
            <th>
                Points
            </th>
            </thead>
            <tbody>
            {%for item in user_list_scores%}
                <tr>
                    <td>
                        {{item[0]}}
                    </td>
                    <td>
                        {{item[1]}}
                    </td>
                </tr>
            {%endfor%}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}
